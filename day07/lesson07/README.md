Zod Basics - –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
üéØ –û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞
–£—Ä–æ–∫ "Basic usage" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π Zod - –º–æ—â–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ TypeScript/JavaScript.
üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É—Ä–æ–∫–∞
1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (Defining a schema)
–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Å—Ö–µ–º —Å –ø–æ–º–æ—â—å—é z.object()
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤: z.string(), z.number()
–ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º "/v4"
2. –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (Parsing data)
–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é .parse()
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ .parseAsync()
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (Handling errors)
–†–∞–±–æ—Ç–∞ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ ZodError
–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ .safeParse()
–ê–Ω–∞–ª–∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏
4. –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤ (Inferring types)
–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ TypeScript —Ç–∏–ø–æ–≤ –∏–∑ —Å—Ö–µ–º —Å –ø–æ–º–æ—â—å—é z.infer<>
–†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É –≤—Ö–æ–¥–Ω—ã–º–∏ –∏ –≤—ã—Ö–æ–¥–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ z.input<> –∏ z.output<> –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π
üí° –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
–°—Ö–µ–º–∞ - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
–í–∞–ª–∏–¥–∞—Ü–∏—è - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º–µ
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ TypeScript —Ç–∏–ø–æ–≤
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏
üß™ –¢–µ—Å—Ç –ø–æ –æ—Å–Ω–æ–≤–∞–º Zod
–í–æ–ø—Ä–æ—Å 1: –ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Zod?
A) .validate()
B) .parse() –ü–†–ê–í–ò–õ–¨–ù–û
C) .check()
D) .verify()
–í–æ–ø—Ä–æ—Å 2: –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç–æ–¥ .safeParse() –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏?
A) –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
B) –û–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º success: true –∏ data –ü–†–ê–í–ò–õ–¨–ù–û
C) –ë—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ true
D) –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ ZodSuccess
–í–æ–ø—Ä–æ—Å 3: –ö–∞–∫ –∏–∑–≤–ª–µ—á—å TypeScript —Ç–∏–ø –∏–∑ Zod —Å—Ö–µ–º—ã?
A) typeof schema
B) schema.getType()
C) z.infer<typeof schema> –ü–†–ê–í–ò–õ–¨–ù–û
D) schema.inferType()
